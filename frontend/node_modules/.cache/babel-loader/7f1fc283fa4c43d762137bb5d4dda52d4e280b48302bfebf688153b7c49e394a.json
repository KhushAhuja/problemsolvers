{"ast":null,"code":"import _slicedToArray from\"D:/Projects/Problem-Solvers/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{ReactComponent as FcGoogle}from\"../icons/google.svg\";import{FaGithub}from\"react-icons/fa\";import{useDispatch,useSelector}from\"react-redux\";import{login,register}from\"../redux/actions/userActions\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var RegisterScreen=function RegisterScreen(){var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),validated=_useState8[0],setValidated=_useState8[1];var dispatch=useDispatch();var redirect=window.location.search?window.location.search.split(\"=\")[1]:\"/\";var authenticate=function authenticate(password){console.log(password);var lowerCaseLetters=/[a-z]/g;var upperCaseLetters=/[A-Z]/g;var numbers=/[0-9]/g;if(!password.match(lowerCaseLetters))return/*#__PURE__*/_jsx(\"h4\",{style:{textAlign:\"center\",color:\"red\"},children:\"Password does not contain lower case letters\"});if(!password.match(upperCaseLetters))return/*#__PURE__*/_jsx(\"h4\",{style:{textAlign:\"center\",color:\"red\"},children:\"Password does not contain upper case letters\"});if(!password.match(numbers))return/*#__PURE__*/_jsx(\"h4\",{style:{textAlign:\"center\",color:\"red\"},children:\"Password does not contain numbers\"});if(!(password.length>8))return/*#__PURE__*/_jsx(\"h4\",{style:{textAlign:\"center\",color:\"red\"},children:\"Password length is not sufficient\"});return\"\";};var submitHandler=function submitHandler(e){e.preventDefault();var pwd_checker=authenticate(password);if(pwd_checker===\"\"){dispatch(register(name,email,password));}else setValidated(pwd_checker);};var userRegister=useSelector(function(state){return state.userRegister;});var loading=userRegister.loading,error=userRegister.error,userInfo=userRegister.userInfo;useEffect(function(){if(userInfo){navigate(redirect);}},[navigate,userInfo,redirect]);return/*#__PURE__*/_jsxs(\"div\",{className:\"login-page flex-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"login-heading\",children:\"Create your account\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"social-btns flex-col jc-sb ai-c\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"google-login-btn soc-btn flex-row jc-c cur-ptr\",style:{color:\"gray\"},children:[/*#__PURE__*/_jsx(FcGoogle,{className:\"social-logo\"}),\"Google\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"github-login-btn soc-btn flex-row jc-c cur-ptr\",style:{color:\"gray\"},children:[/*#__PURE__*/_jsx(FaGithub,{className:\"social-logo\",style:{color:\"black\"}}),\"Github\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"social-or-manual flex-row\",children:/*#__PURE__*/_jsx(\"span\",{className:\"or-divider\",children:\"or\"})}),/*#__PURE__*/_jsxs(\"form\",{className:\"login-form flex-col jc-sb ai-c\",onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Username\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",onChange:function onChange(e){return setName(e.target.value);}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Email Address\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Password\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"pwd\",name:\"pwd\",onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(\"br\",{}),validated===\"\"?/*#__PURE__*/_jsx(_Fragment,{}):validated,/*#__PURE__*/_jsxs(\"div\",{className:\"sub-or-reg flex-row jc-sa\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"cur-ptr\",children:\"Register\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"flex-row jc-c ai-c\",children:[\" \",\"Have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\" Log in now\"})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"right-container\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/problem_solver.png\"})})]});};export default RegisterScreen;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","ReactComponent","FcGoogle","FaGithub","useDispatch","useSelector","login","register","Link","RegisterScreen","navigate","name","setName","email","setEmail","password","setPassword","validated","setValidated","dispatch","redirect","window","location","search","split","authenticate","console","log","lowerCaseLetters","upperCaseLetters","numbers","match","textAlign","color","length","submitHandler","e","preventDefault","pwd_checker","userRegister","state","loading","error","userInfo","target","value"],"sources":["D:/Projects/Problem-Solvers/frontend/src/screens/RegisterScreen.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { ReactComponent as FcGoogle } from \"../icons/google.svg\";\r\nimport { FaGithub } from \"react-icons/fa\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { login, register } from \"../redux/actions/userActions\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst RegisterScreen = () => {\r\n  let navigate = useNavigate();\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [validated, setValidated] = useState(\"\");\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const redirect = window.location.search\r\n    ? window.location.search.split(\"=\")[1]\r\n    : \"/\";\r\n\r\n  const authenticate = (password) => {\r\n    console.log(password);\r\n    var lowerCaseLetters = /[a-z]/g;\r\n    var upperCaseLetters = /[A-Z]/g;\r\n    var numbers = /[0-9]/g;\r\n    if (!password.match(lowerCaseLetters))\r\n      return (\r\n        <h4 style={{ textAlign: \"center\", color: \"red\" }}>\r\n          Password does not contain lower case letters\r\n        </h4>\r\n      );\r\n    if (!password.match(upperCaseLetters))\r\n      return (\r\n        <h4 style={{ textAlign: \"center\", color: \"red\" }}>\r\n          Password does not contain upper case letters\r\n        </h4>\r\n      );\r\n    if (!password.match(numbers))\r\n      return (\r\n        <h4 style={{ textAlign: \"center\", color: \"red\" }}>\r\n          Password does not contain numbers\r\n        </h4>\r\n      );\r\n    if (!(password.length > 8))\r\n      return (\r\n        <h4 style={{ textAlign: \"center\", color: \"red\" }}>\r\n          Password length is not sufficient\r\n        </h4>\r\n      );\r\n\r\n    return \"\";\r\n  };\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    let pwd_checker = authenticate(password);\r\n    if (pwd_checker === \"\") {\r\n      dispatch(register(name, email, password));\r\n    } else setValidated(pwd_checker);\r\n  };\r\n\r\n  const userRegister = useSelector((state) => state.userRegister);\r\n  const { loading, error, userInfo } = userRegister;\r\n\r\n  useEffect(() => {\r\n    if (userInfo) {\r\n      navigate(redirect);\r\n    }\r\n  }, [navigate, userInfo, redirect]);\r\n\r\n  return (\r\n    <div className=\"login-page flex-row\">\r\n      <div className=\"left-container\">\r\n        <div className=\"login-heading\">Create your account</div>\r\n\r\n        <div className=\"social-btns flex-col jc-sb ai-c\">\r\n          <div\r\n            className=\"google-login-btn soc-btn flex-row jc-c cur-ptr\"\r\n            style={{ color: \"gray\" }}\r\n          >\r\n            <FcGoogle className=\"social-logo\" />\r\n            Google\r\n          </div>\r\n\r\n          <div\r\n            className=\"github-login-btn soc-btn flex-row jc-c cur-ptr\"\r\n            style={{ color: \"gray\" }}\r\n          >\r\n            <FaGithub className=\"social-logo\" style={{ color: \"black\" }} />\r\n            Github\r\n          </div>\r\n          {/* <hr/> */}\r\n        </div>\r\n\r\n        <div className=\"social-or-manual flex-row\">\r\n          <span className=\"or-divider\">or</span>\r\n        </div>\r\n\r\n        <form\r\n          className=\"login-form flex-col jc-sb ai-c\"\r\n          onSubmit={submitHandler}\r\n        >\r\n          <label>\r\n            Username\r\n            <br />\r\n            <input\r\n              type=\"text\"\r\n              id=\"name\"\r\n              name=\"name\"\r\n              onChange={(e) => setName(e.target.value)}\r\n            />\r\n          </label>\r\n\r\n          <br />\r\n\r\n          <label>\r\n            Email Address\r\n            <br />\r\n            <input\r\n              type=\"email\"\r\n              id=\"email\"\r\n              name=\"email\"\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n          </label>\r\n\r\n          <br />\r\n\r\n          <label>\r\n            Password\r\n            <br />\r\n            <input\r\n              type=\"password\"\r\n              id=\"pwd\"\r\n              name=\"pwd\"\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n          </label>\r\n\r\n          <br />\r\n\r\n          {validated === \"\" ? <></> : validated}\r\n\r\n          <div className=\"sub-or-reg flex-row jc-sa\">\r\n            <button type=\"submit\" className=\"cur-ptr\">\r\n              Register\r\n            </button>\r\n            <span className=\"flex-row jc-c ai-c\">\r\n              {\" \"}\r\n              Have an account? <Link to=\"/login\"> Log in now</Link>\r\n            </span>\r\n          </div>\r\n        </form>\r\n      </div>\r\n\r\n      <div className=\"right-container\">\r\n        <img src=\"images/problem_solver.png\"></img>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RegisterScreen;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}