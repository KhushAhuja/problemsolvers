{"ast":null,"code":"import _objectSpread from\"D:/Projects/Problem-Solvers/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"D:/Projects/Problem-Solvers/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"D:/Projects/Problem-Solvers/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import\"../App.css\";import Footer from\"../components/footer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Forum(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useState3=useState({title:\"\",content:\"\",author:\"\"}),_useState4=_slicedToArray(_useState3,2),newPost=_useState4[0],setNewPost=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),replyContent=_useState6[0],setReplyContent=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),replyAuthor=_useState8[0],setReplyAuthor=_useState8[1];useEffect(function(){axios.get(\"/api/posts\").then(function(response){setPosts(response.data);});},[]);var addPost=function addPost(){axios.post(\"/api/posts\",newPost).then(function(response){setPosts([].concat(_toConsumableArray(posts),[response.data]));setNewPost({title:\"\",content:\"\",author:\"\"});});};var addReply=function addReply(postId){axios.post(\"/api/posts/\".concat(postId,\"/replies\"),{content:replyContent,author:replyAuthor}).then(function(response){var updatedPosts=posts.map(function(post){return post._id===postId?response.data:post;});setPosts(updatedPosts);setReplyContent(\"\");setReplyAuthor(\"\");});};var scrollToBottom=function scrollToBottom(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:\"smooth\"});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"section\",{className:\"gap-x-8 mb-8 mt-4 rounded-lg h-[auto] md:flex-row md:px-0 md:gap-x-16 bg-[#f8f8f8] w-full border border-b-slate-200\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center md:w-1/2 w-full h-full mx-auto flex flex-col items-center justify-start md:py-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full md:w-[800px] text-center p-4 md:p-2\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-[#4be3a8] md:font-extrabold font-bold text-3xl md:text-5xl pb-2 text-accent\",children:[\"Get in touch\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text-[#242424]\",children:\" to Learn More \"})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"font-light text-2xl hidden md:block md:font-normal text-[#242424]\",children:\"A Place for Productive and Respectful Discussions and Debates. Discover New Ideas and Make Meaningful Connections\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"posts w-[70%]\",children:posts.map(function(post){return/*#__PURE__*/_jsxs(\"div\",{className:\"post px-6 py-4\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Title: \",post.title]}),/*#__PURE__*/_jsx(\"p\",{children:post.content}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Author: \",post.author]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Date: \",new Date(post.date).toLocaleDateString()]})]}),/*#__PURE__*/_jsx(\"ul\",{children:post.replies.map(function(reply,index){return/*#__PURE__*/_jsxs(\"li\",{children:[reply.content,\" - \",reply.author,\" (\",new Date(reply.date).toLocaleDateString(),\")\"]},index);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"reply-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Your reply\",value:replyContent,onChange:function onChange(e){return setReplyContent(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Your name\",value:replyAuthor,onChange:function onChange(e){return setReplyAuthor(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return addReply(post._id);},children:\"Reply\"})]})]},post._id);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"new-post-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"New Post\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Title\",value:newPost.title,onChange:function onChange(e){return setNewPost(_objectSpread(_objectSpread({},newPost),{},{title:e.target.value}));}}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Content\",value:newPost.content,onChange:function onChange(e){return setNewPost(_objectSpread(_objectSpread({},newPost),{},{content:e.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Your name\",value:newPost.author,onChange:function onChange(e){return setNewPost(_objectSpread(_objectSpread({},newPost),{},{author:e.target.value}));}}),/*#__PURE__*/_jsx(\"button\",{className:\"subm\",onClick:addPost,children:\"Submit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-white rounded-full border border-black px-4 py-2 fixed bottom-6 right-6\",onClick:scrollToBottom,children:/*#__PURE__*/_jsx(\"img\",{src:\"./down.png\",alt:\"\"})})]}),/*#__PURE__*/_jsx(Footer,{})]});}export default Forum;","map":{"version":3,"names":["React","useState","useEffect","axios","Footer","Forum","posts","setPosts","title","content","author","newPost","setNewPost","replyContent","setReplyContent","replyAuthor","setReplyAuthor","get","then","response","data","addPost","post","addReply","postId","updatedPosts","map","_id","scrollToBottom","window","scrollTo","top","document","documentElement","scrollHeight","behavior","Date","date","toLocaleDateString","replies","reply","index","e","target","value"],"sources":["D:/Projects/Problem-Solvers/frontend/src/screens/forum.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"../App.css\";\r\nimport Footer from \"../components/footer\";\r\n\r\nfunction Forum() {\r\n  const [posts, setPosts] = useState([]);\r\n  const [newPost, setNewPost] = useState({\r\n    title: \"\",\r\n    content: \"\",\r\n    author: \"\",\r\n  });\r\n  const [replyContent, setReplyContent] = useState(\"\");\r\n  const [replyAuthor, setReplyAuthor] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    axios.get(\"/api/posts\").then((response) => {\r\n      setPosts(response.data);\r\n    });\r\n  }, []);\r\n\r\n  const addPost = () => {\r\n    axios.post(\"/api/posts\", newPost).then((response) => {\r\n      setPosts([...posts, response.data]);\r\n      setNewPost({ title: \"\", content: \"\", author: \"\" });\r\n    });\r\n  };\r\n\r\n  const addReply = (postId) => {\r\n    axios\r\n      .post(`/api/posts/${postId}/replies`, {\r\n        content: replyContent,\r\n        author: replyAuthor,\r\n      })\r\n      .then((response) => {\r\n        const updatedPosts = posts.map((post) =>\r\n          post._id === postId ? response.data : post\r\n        );\r\n        setPosts(updatedPosts);\r\n        setReplyContent(\"\");\r\n        setReplyAuthor(\"\");\r\n      });\r\n  };\r\n  const scrollToBottom = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <section className=\"gap-x-8 mb-8 mt-4 rounded-lg h-[auto] md:flex-row md:px-0 md:gap-x-16 bg-[#f8f8f8] w-full border border-b-slate-200\">\r\n        <div className=\"text-center md:w-1/2 w-full h-full mx-auto flex flex-col items-center justify-start md:py-12\">\r\n          <div className=\"w-full md:w-[800px] text-center p-4 md:p-2\">\r\n            <h2 className=\"text-[#4be3a8] md:font-extrabold font-bold text-3xl md:text-5xl pb-2 text-accent\">\r\n              Get in touch{\" \"}\r\n              <span className=\"text-[#242424]\"> to Learn More </span>\r\n            </h2>\r\n            <h2 className=\"font-light text-2xl hidden md:block md:font-normal text-[#242424]\">\r\n              A Place for Productive and Respectful Discussions and Debates.\r\n              Discover New Ideas and Make Meaningful Connections\r\n            </h2>\r\n          </div>\r\n        </div>\r\n      </section>\r\n      <div className=\"posts w-[70%]\">\r\n        {posts.map((post) => (\r\n          <div key={post._id} className=\"post px-6 py-4\">\r\n            <h2>Title: {post.title}</h2>\r\n            <p>{post.content}</p>\r\n            <p>\r\n              <span>Author: {post.author}</span>\r\n              <span>Date: {new Date(post.date).toLocaleDateString()}</span>\r\n            </p>\r\n            <ul>\r\n              {/* <h5>Replies</h5> */}\r\n              {post.replies.map((reply, index) => (\r\n                <li key={index}>\r\n                  {reply.content} - {reply.author} (\r\n                  {new Date(reply.date).toLocaleDateString()})\r\n                </li>\r\n              ))}\r\n            </ul>\r\n            <div className=\"reply-form\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Your reply\"\r\n                value={replyContent}\r\n                onChange={(e) => setReplyContent(e.target.value)}\r\n              />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Your name\"\r\n                value={replyAuthor}\r\n                onChange={(e) => setReplyAuthor(e.target.value)}\r\n              />\r\n              <button onClick={() => addReply(post._id)}>Reply</button>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div className=\"new-post-form\">\r\n        <h2>New Post</h2>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Title\"\r\n          value={newPost.title}\r\n          onChange={(e) => setNewPost({ ...newPost, title: e.target.value })}\r\n        />\r\n        <textarea\r\n          placeholder=\"Content\"\r\n          value={newPost.content}\r\n          onChange={(e) => setNewPost({ ...newPost, content: e.target.value })}\r\n        ></textarea>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Your name\"\r\n          value={newPost.author}\r\n          onChange={(e) => setNewPost({ ...newPost, author: e.target.value })}\r\n        />\r\n        <button className=\"subm\" onClick={addPost}>\r\n          Submit\r\n        </button>\r\n        <button\r\n          className=\"bg-white rounded-full border border-black px-4 py-2 fixed bottom-6 right-6\"\r\n          onClick={scrollToBottom}\r\n        >\r\n          <img src=\"./down.png\" alt=\"\" />\r\n        </button>\r\n      </div>\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Forum;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}