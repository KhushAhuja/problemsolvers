{"ast":null,"code":"import _slicedToArray from\"D:/Projects/Problem-Solvers/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{FcGoogle}from\"@react-icons/all-files/fc/FcGoogle\";import{FaGithub}from\"react-icons/fa\";import{useDispatch,useSelector}from\"react-redux\";import{login}from\"../redux/actions/userActions\";import{Link}from\"react-router-dom\";// import GoogleIcon from '../icons/google.svg'\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var LoginScreen=function LoginScreen(){var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),validated=_useState6[0],setValidated=_useState6[1];var dispatch=useDispatch();var redirect=window.location.search?window.location.search.split(\"=\")[1]:\"/\";var authenticate=function authenticate(password){console.log(password);var lowerCaseLetters=/[a-z]/g;var upperCaseLetters=/[A-Z]/g;var numbers=/[0-9]/g;if(!password.match(lowerCaseLetters))return/*#__PURE__*/_jsx(\"h4\",{style:{textAlign:\"center\",color:\"red\"},children:\"Password does not contain lower case letters\"});if(!password.match(upperCaseLetters))return/*#__PURE__*/_jsx(\"h4\",{style:{textAlign:\"center\",color:\"red\"},children:\"Password does not contain upper case letters\"});if(!password.match(numbers))return/*#__PURE__*/_jsx(\"h4\",{style:{textAlign:\"center\",color:\"red\"},children:\"Password does not contain numbers\"});if(!(password.length>8))return/*#__PURE__*/_jsx(\"h4\",{style:{textAlign:\"center\",color:\"red\"},children:\"Password length is not sufficient\"});return\"\";};var submitHandler=function submitHandler(e){e.preventDefault();console.log(password);var pwd_checker=authenticate(password);if(pwd_checker===\"\")dispatch(login(email,password));else setValidated(pwd_checker);};var userLogin=useSelector(function(state){return state.userLogin;});var loading=userLogin.loading,error=userLogin.error,userInfo=userLogin.userInfo;useEffect(function(){if(userInfo&&!loading){navigate(redirect);}},[navigate,userInfo,loading,redirect]);return/*#__PURE__*/_jsxs(\"div\",{className:\"login-page flex-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"login-heading\",children:\"Log in to your account\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"social-btns flex-col jc-sb ai-c\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"google-login-btn soc-btn flex-row jc-c cur-ptr\",style:{color:\"gray\"},children:[/*#__PURE__*/_jsx(FcGoogle,{className:\"social-logo\"}),\"Google\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"github-login-btn soc-btn flex-row jc-c cur-ptr\",style:{color:\"gray\"},children:[/*#__PURE__*/_jsx(FaGithub,{className:\"social-logo\",style:{color:\"black\"}}),\"Github\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"social-or-manual flex-row\",children:/*#__PURE__*/_jsx(\"span\",{className:\"or-divider\",children:\"or\"})}),error&&/*#__PURE__*/_jsx(\"h4\",{style:{textAlign:\"center\",color:\"red\"},children:\"Invalid Credentials\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"login-form flex-col jc-sb ai-c\",onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Email Address\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Password\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"pwd\",name:\"pwd\",onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(\"br\",{}),validated===\"\"?/*#__PURE__*/_jsx(_Fragment,{}):validated,/*#__PURE__*/_jsxs(\"div\",{className:\"sub-or-reg flex-row jc-sa\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"cur-ptr\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"flex-row jc-c ai-c\",children:[\" \",\"Don't have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\" Sign Up\"})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"right-container\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/problem_solver.png\",alt:\"\"})})]});};export default LoginScreen;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","FcGoogle","FaGithub","useDispatch","useSelector","login","Link","LoginScreen","navigate","email","setEmail","password","setPassword","validated","setValidated","dispatch","redirect","window","location","search","split","authenticate","console","log","lowerCaseLetters","upperCaseLetters","numbers","match","textAlign","color","length","submitHandler","e","preventDefault","pwd_checker","userLogin","state","loading","error","userInfo","target","value"],"sources":["D:/Projects/Problem-Solvers/frontend/src/screens/LoginScreen.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { FcGoogle } from \"@react-icons/all-files/fc/FcGoogle\";\r\nimport { FaGithub } from \"react-icons/fa\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { login } from \"../redux/actions/userActions\";\r\nimport { Link } from \"react-router-dom\";\r\n// import GoogleIcon from '../icons/google.svg'\r\n\r\nconst LoginScreen = () => {\r\n  let navigate = useNavigate();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [validated, setValidated] = useState(\"\");\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const redirect = window.location.search\r\n    ? window.location.search.split(\"=\")[1]\r\n    : \"/\";\r\n\r\n  const authenticate = (password) => {\r\n    console.log(password);\r\n    var lowerCaseLetters = /[a-z]/g;\r\n    var upperCaseLetters = /[A-Z]/g;\r\n    var numbers = /[0-9]/g;\r\n    if (!password.match(lowerCaseLetters))\r\n      return (\r\n        <h4 style={{ textAlign: \"center\", color: \"red\" }}>\r\n          Password does not contain lower case letters\r\n        </h4>\r\n      );\r\n    if (!password.match(upperCaseLetters))\r\n      return (\r\n        <h4 style={{ textAlign: \"center\", color: \"red\" }}>\r\n          Password does not contain upper case letters\r\n        </h4>\r\n      );\r\n    if (!password.match(numbers))\r\n      return (\r\n        <h4 style={{ textAlign: \"center\", color: \"red\" }}>\r\n          Password does not contain numbers\r\n        </h4>\r\n      );\r\n    if (!(password.length > 8))\r\n      return (\r\n        <h4 style={{ textAlign: \"center\", color: \"red\" }}>\r\n          Password length is not sufficient\r\n        </h4>\r\n      );\r\n\r\n    return \"\";\r\n  };\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    console.log(password);\r\n\r\n    let pwd_checker = authenticate(password);\r\n    if (pwd_checker === \"\") dispatch(login(email, password));\r\n    else setValidated(pwd_checker);\r\n  };\r\n\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { loading, error, userInfo } = userLogin;\r\n\r\n  useEffect(() => {\r\n    if (userInfo && !loading) {\r\n      navigate(redirect);\r\n    }\r\n  }, [navigate, userInfo,loading, redirect]);\r\n\r\n  return (\r\n    <div className=\"login-page flex-row\">\r\n      <div className=\"left-container\">\r\n        <div className=\"login-heading\">Log in to your account</div>\r\n\r\n        <div className=\"social-btns flex-col jc-sb ai-c\">\r\n          <div\r\n            className=\"google-login-btn soc-btn flex-row jc-c cur-ptr\"\r\n            style={{ color: \"gray\" }}\r\n          >\r\n            <FcGoogle className=\"social-logo\" />\r\n            Google\r\n          </div>\r\n\r\n          <div\r\n            className=\"github-login-btn soc-btn flex-row jc-c cur-ptr\"\r\n            style={{ color: \"gray\" }}\r\n          >\r\n            <FaGithub className=\"social-logo\" style={{ color: \"black\" }} />\r\n            Github\r\n          </div>\r\n          {/* <hr/> */}\r\n        </div>\r\n\r\n        <div className=\"social-or-manual flex-row\">\r\n          <span className=\"or-divider\">or</span>\r\n        </div>\r\n\r\n        {error && (\r\n          <h4 style={{ textAlign: \"center\", color: \"red\" }}>\r\n            Invalid Credentials\r\n          </h4>\r\n        )}\r\n\r\n        <form\r\n          className=\"login-form flex-col jc-sb ai-c\"\r\n          onSubmit={submitHandler}\r\n        >\r\n          <label>\r\n            Email Address\r\n            <br />\r\n            <input\r\n              type=\"email\"\r\n              id=\"email\"\r\n              name=\"email\"\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n          </label>\r\n\r\n          <br />\r\n\r\n          <label>\r\n            Password\r\n            <br />\r\n            <input\r\n              type=\"password\"\r\n              id=\"pwd\"\r\n              name=\"pwd\"\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n          </label>\r\n\r\n          <br />\r\n\r\n          {validated === \"\" ? <></> : validated}\r\n\r\n          <div className=\"sub-or-reg flex-row jc-sa\">\r\n            <button type=\"submit\" className=\"cur-ptr\">\r\n              Login\r\n            </button>\r\n            <span className=\"flex-row jc-c ai-c\">\r\n              {\" \"}\r\n              Don't have an account? <Link to=\"/register\"> Sign Up</Link>\r\n            </span>\r\n          </div>\r\n        </form>\r\n      </div>\r\n\r\n      <div className=\"right-container\">\r\n        <img src=\"images/problem_solver.png\" alt=\"\"></img>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginScreen;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}